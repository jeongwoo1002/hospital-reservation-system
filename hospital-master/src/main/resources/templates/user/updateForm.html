<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: header('회원 수정')">
</head>
<body>
<div th:replace="fragments/common :: menu('home')"></div>

<div class="container">
  <h3>회원 수정</h3>
  <form id="update-form" th:action="@{/update}" method="post">
    <input type="hidden" th:value="${user.id}" name="id" id="id"/>

    <label for="password">비밀번호
      <input type="password" name="password" id="password" placeholder="비밀번호" required>
    </label>

    <label for="name">이름
      <input type="text" name="name" id="name" placeholder="이름" th:value="${user.name}" readonly>
    </label>

    <label for="number">전화번호
      <input type="text" name="number" id="number" placeholder="전화번호" th:value="${user.number}" required>
    </label>

    <label for="resident">주민번호
      <input type="text" name="resident" id="resident" placeholder="주민번호" th:value="${user.resident}" readonly>
    </label>

    <label for="address">주소
      <input type="text" name="address" id="address" placeholder="주소" th:value="${user.address}" required>
    </label>

    <button id="btn-update" type="submit">회원수정</button>
  </form>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    function speak(text) {
      const utterance = new SpeechSynthesisUtterance(text);
      window.speechSynthesis.speak(utterance);
    }

    // 각 필드 포커스 시 음성 안내
    document.getElementById("password").addEventListener("focus", function() {
      speak("비밀번호를 변경하려면 비밀번호를 입력해주세요.");
    });

    document.getElementById("name").addEventListener("focus", function() {
      speak("이름: " + this.value);
    });

    document.getElementById("number").addEventListener("focus", function() {
      speak("전화번호를 입력하세요.");
    });

    document.getElementById("resident").addEventListener("focus", function() {
      speak("주민번호: " + this.value);
    });

    document.getElementById("address").addEventListener("focus", function() {
      speak("주소를 입력하세요.");
    });

    document.getElementById("btn-update").addEventListener("focus", function() {
      speak("회원수정 버튼입니다. 회원 정보를 수정하시겠습니까?");
    });
  });
</script>
</body>
</html>
